const { Telegraf, Markup } = require('telegraf');
const path = require('path');
// Create a new Telegraf instance with your Telegram Bot token
const bot = new Telegraf('6938169328:AAHQ0LbupIllIU2nyU8qE1Jp01PLiPljO2s');

// Departments data
const departments = [
  { name: 'á‹¨áŒ¸áˆŽá‰µ áŠ áˆµá‰°á‰£á‰£áˆªá‹Žá‰½/prayers ', description: 'á‰ áŠ áŒ á‰ƒáˆ‹á‹­ áˆ…á‰¥áˆ¨á‰± áŠ«áˆ‰ á‹¨áŠ áŒˆáˆáŒáˆŽá‰µ á‰¡á‹µáŠ–á‰½ áŠ áŠ•á‹± áˆ²áˆ†áŠ• á‹“áˆ‹áˆ›á‹ á‹ˆá‹° áŒ…áˆ› á‹©áŠ•á‰¨áˆ­áˆµá‰² á‹¨áˆšáˆ˜áŒ¡ áŠ­áˆ­áˆµá‰µá‹«áŠ• á‰°áˆ›áˆªá‹Žá‰½ á‹ˆá‹­áŠ•áˆ á‰ áŒá‰¢ á‹áˆµáŒ¥ áŠ¨áˆ˜áŒ¡ á‰ áŠ‹áˆ‹ áŠ­áˆ­áˆµá‰µá‹«áŠ• á‹¨áˆšáˆ†áŠ‘ á‰°áˆ›áˆªá‹Žá‰½ á‰ áŒ¸áˆŽá‰µ á‹¨áˆšá‰°áŒ‰ áŠ¥áŠ•á‹²áˆ†áŠ‘ áˆ˜áˆ­á‹³á‰µ áŠá‹á¢á‹¨á‰¡á‹µáŠ‘ áŠ á‰£áˆ‹á‰µ á‹¨áˆšáˆ†áŠ‘ áŠ­áˆ­áˆµá‰µá‹«áŠ• á‰°áˆ›áˆªá‹Žá‰½ á‰ á‰‹áˆšáŠá‰µ áˆˆáˆ…á‰¥áˆ¨á‰± á‰ áˆ˜áŒ¸áˆˆá‹­á£ á‰ áŠ áŒ á‰ƒáˆ‹á‹­ áˆ…á‰¥áˆ¨á‰± á‹¨áŒ¸áˆŽá‰µ áŒŠá‹œ á‰ áˆ˜áˆáˆ«á‰µ áŠ¥áŠ“ á‹¨á‰°áˆˆá‹«á‹© áŒ¸áˆŽá‰µ áˆ‹á‹­ á‰µáŠ©áˆ¨á‰µ á‹«á‹°áˆ¨áŒ‰ á‹áŒáŒ…á‰¶á‰½áŠ• á‰ áˆ›á‹˜áŒ‹áŒ€á‰µ á‹«áŒˆáˆˆáŒáˆ‹áˆ‰á¢ á‰ áŒá‰¢ á‰†á‹­á‰³á‰½áˆ á‰ á‹šáˆ… áŠ á‹­áŠá‰µ áˆ˜áŠ•áŒˆá‹µ á‰ áˆ›áŒˆáˆáŒˆáˆ áˆˆáˆ›á‹°áŒ áŠ¥áŠ“ áˆˆáˆŒáˆŽá‰½ á‰ áˆ¨áŠ¨á‰µ áˆ˜áˆ†áŠ• á‹¨áˆá‰µáˆáˆáŒ‰ áˆáˆ‰ á‹­áˆ…áŠ•áŠ• á‰¡á‹µáŠ• áŠ¥áŠ•á‹µá‰µá‰€áˆ‹á‰€áˆ‰ á‰ á‰¥á‹™ áá‰…áˆ­ á‰°áŒ‹á‰¥á‹›á‰½áŠ‹áˆ á‰ áˆáˆ‰ á‹á‹­áŠá‰µ áŒ¸áˆŽá‰µáŠ“ áˆáˆ˜áŠ“á£ á‰ áˆ›áŠ•áŠ›á‹áˆ áˆáŠ”á‰³ á‰ áˆ˜áŠ•áˆáˆµ áŒ¸áˆá‹©á¤ á‹­áˆ…áŠ•áˆ á‰ áˆ›áˆ°á‰¥ áŠ•á‰á¤ áˆµáˆˆ á‰…á‹±áˆ³áŠ•áˆ áˆáˆ‰ á‰ á‰µáŒ‹á‰µ áˆáˆ˜áŠ“ áŠ á‰…áˆ­á‰¡á¢ áŠ¤áŒáˆ¶áŠ• 6á¥18' },
  { name: 'á‹¨áˆ˜á‹˜áˆáˆ«áŠ• áˆ…á‰¥áˆ¨á‰µ/choirs', description: 'áˆµáˆ›á‰½áŠ• áŠ¥áŠ•á‹°áˆšá‹«áˆ³á‹¨á‹ á‹“áˆ‹áˆ›á‰½áŠ• áŠ¥áŒá‹šáŠ á‰¥áˆ”áˆ­áŠ• áŠ¨áˆáŠ“áˆ˜áˆáŠ­á‰£á‰¸á‹ áˆ˜áŠ•áŒˆá‹¶á‰½ áŠ áŠ•á‹± á‰ áˆ†áŠá‹ ( á‰ áˆ˜á‹áˆ™áˆ­áŠ“ á‰ á‹áˆ›áˆ¬ á‰ áˆ˜áŠ•áˆáˆ³á‹Šáˆ á‰…áŠ” áŠ¥áˆ­áˆµ á‰ áˆ­áˆ³á‰½áˆ á‰°áŠáŒ‹áŒˆáˆ©á¤ áˆˆáŒŒá‰³ á‰ áˆá‰£á‰½áˆ á‰°á‰€áŠ™áŠ“ á‹˜áˆáˆ©á¤ â€”áŠ¤áŒáˆ¶áŠ• 5: 19 ) áŠ¥áŠ•á‹°áˆšáˆ á‰ áŠ áŠ•á‹°á‰ á‰³á‰½áŠ• ááˆ¬ á‰ áˆáŒ á‰ áŠ¢á‹¨áˆ±áˆµ á‰ áŠ©áˆ áˆµáˆˆáŒˆáˆˆáŒ áˆáŠ• áˆ›áŠ•áŠá‰±áŠ“ áˆµáˆˆáˆ°áˆ«áˆáŠ• áˆµáˆ« áŠ¥áŠ•á‹²áˆáˆ áˆ˜áŒ½áˆá á‰…á‹±áˆ³á‹Š áˆ˜áˆ áˆ¨á‰µ á‹«áˆ‹á‰¸á‹áŠ• áˆ˜áˆá‹•áŠ­á‰¶á‰½ á‹¨áˆáŠ•á‹˜áˆáˆ­á‰ á‰µáŠ“ á‹¨áˆ…á‰¥áˆ¨á‰±áŠ• áŠ á‹³á‹²áˆµ áˆ˜á‹áˆ™áˆ®á‰½ á‰ áŠ áŠ•á‹µáŠá‰µ á‹¨áˆáŠ•áˆ°áˆ«á‰ á‰µ áˆµááˆ«á‰½áŠ• áŠá‹á¢ á‰ á‹šáˆ… áˆ…á‰¥áˆ¨á‰µ áˆ›áŒˆáˆáŒˆáˆ á‹¨áˆá‰µáˆáˆáŒ‰á£ á‰ á‰°áˆˆá‹«á‹© á‹¨á‹áˆ›áˆ¬ áˆ…á‰¥áˆ¨á‰¶á‰½ áˆµá‰³áŒˆáˆˆáŒáˆ‰ á‹¨áŠá‰ áˆ«á‰½áˆá£ á‹œáˆ›áŠ“ áŒáŒ¥áˆ á‹¨áˆá‰µáˆ°áˆ©á£ áˆ™á‹šá‰ƒ áˆá‰µáŒ«á‹ˆá‰±áŠ“ sound system adjust áˆá‰³á‹°áˆ­áŒ‰ áˆáˆ‹á‰½áˆ á‹ˆá‹°á‹šáˆ… áˆ…á‰¥áˆ¨á‰µ á‰ áˆ˜á‰€áˆ‹á‰€áˆ áŠ¥áŒá‹šáŠ á‰¥áˆ”áˆ­ á‹¨áˆ°áŒ£á‰½áˆáŠ• áˆµáŒ¦á‰³ áŠ¥áŠ•á‹µá‰³áˆ³á‹µáŒ‰ á‹°áŒáˆž áŠ¥áŠ•á‹µá‰³áŒˆáˆˆáŒáˆ‰á‰ á‰µ áŠ¥áŠ•áŒ áˆ«á‰½áŠ‹áˆˆáŠ•á¢' },
  { name: 'á‹¨áŠ•áŒ¹áˆ… áá‰…áˆ­ á‰¡á‹µáŠ•/pure love', description: 'á‹¨áŠ•ááˆ… áá‰…áˆ­ á‰¡á‹µáŠ• áŠ áˆ‹áˆ› á‰ á‰°áˆˆá‹«á‹© á‰½áŒáˆ­ á‹áˆµáŒ¥ á‹«áˆ‰ á‹ˆáŒˆáŠ–á‰»á‰½áŠ•áŠ• á‰ áˆ˜áˆ­á‹³á‰µ áŠ¥áŠ“ áŠ¥áˆ«áˆ³á‰¸á‹áŠ• áŠ¥áŠ•á‹²á‰½áˆ‰ á‹µáŒ‹á á‰ áˆ›á‹µáˆ¨áŒ á‹¨áŒŒá‰³áŠ• áá‰…áˆ­ áˆ›áˆ³á‹¨á‰µ áŠ¥áŠ“ á‹ˆáŠ•áŒŒáˆáŠ• áˆ›áŠ«áˆáˆ á¤ áŠ¥áŠ•á‹²áˆáˆ á‹¨áˆ…á‰¥áˆ¨á‰± áŠ á‰£áˆˆá‰µ á‰ á‹šáˆ… áˆµáˆ« áˆ‹á‹­ áŠ¥áŠ•á‹²áˆ³á‰°á‰ áˆ›áˆµá‰°á‰£á‰ áˆ­ áŠá‹á¢ áˆ˜áˆµáŒ á‰µ áŒŒá‰³áŠ• á‹°áˆµ á‹¨áˆšá‹«áˆ°áŠ áŠ¥á‹áŠá‰°áŠ› áŠ áˆáˆáŠ® áŠá‹á¢ áŠ¥áŠ› á‹¨áˆáŠ•áˆ°áŒ á‹ á‹°áŒáˆž áŠ¥áŒá‹šáŠ á‰¥áˆ”áˆ­ áŠ áˆµá‰€á‹µáˆž áŠ áŠ•á‹µ áˆáŒáŠ• á‰ áˆ˜áˆµáŒ á‰µ áá‰…áˆ©áŠ• á‰ á‰°áŒá‰£áˆ­ áˆµáˆ‹áˆ³á‹¨áŠ• áŠá‹á¢ áŠ¨áŠ¥áŒá‹šáŠ á‰¥áˆ”áˆ­ á‹¨á‰°á‰€á‰ áˆáŠá‹áŠ• áá‰…áˆ­ á‹°áŒáˆž áŠ¥áˆ­áˆµ á‰ áŠ¥áˆ­áˆ³á‰½áŠ• á‰ áˆ˜á‹‹á‹°á‹µ á‰ áŠ¥áŠ› á‹áˆµáŒ¥ á‹«áˆˆá‹áŠ• áŒŒá‰³ áˆˆáˆ›á‹«á‹á‰á‰µ áˆáŠ“áˆ³á‹­ á‹­áŒˆá‰£áŠ“áˆá¢ á‰¡á‹µáŠ“á‰½áŠ•áŠ• áˆˆáˆ˜á‰€áˆ‹á‰€áˆ á‹¨áˆá‰µáˆáˆáŒ‰ á‰…á‹±áˆ³áŠ• á‰ áˆ™áˆ‰ á‰ áá‰…áˆ­ áŠ¥áŠ•á‹°áˆáŠ•á‰€á‰ áˆ‹á‰¹ áˆáŠ“áˆ³á‹á‰ƒá‰½áˆ áŠ¥áŠ•á‹ˆá‹³áˆˆáŠ• á¢ áŠ¨áŠ¥áŠ› áŒ‹áˆ­ áŒŒá‰³áŠ• áŠ¥á‹«áŒˆáˆˆáŒˆáˆ‹á‰¹ á‰ áˆ˜áŠ•áˆáˆ³á‹Š áˆ…á‹­á‹ˆá‰³á‰¹áˆ áŠ¥áŠ•á‹°áˆá‰µá‰ áˆ¨á‰± á‰µáˆá‰… á‰°áˆµá‹ áŠ áˆˆáŠ•á¢ áŠáŒˆáˆ­ áŒáŠ• áˆ˜áˆáŠ«áˆ áˆ›á‹µáˆ¨áŒáŠ• áˆˆáˆŒáˆŽá‰½áˆ áˆ›áŠ«áˆáˆáŠ• áŠ á‰µáˆ­áˆ±á¤ áŠ¥áŠ•á‹²áˆ… á‹«áˆˆá‹ áˆ˜áˆ¥á‹‹á‹•á‰µ áŠ¥áŒá‹šáŠ á‰¥áˆ”áˆ­áŠ• á‹°áˆµ á‹«áˆ°áŠ˜á‹‹áˆáŠ“á¢ á‹•á‰¥áˆ«á‹á‹«áŠ• 13á¤ 6' },
  { name: 'áŠ“á‰³áŠ’áˆ/natanims', description: 'áˆˆáˆ…á‰¥áˆ¨á‰µ áŠ áˆáˆáŠ® á‹¨áˆáŠ•áˆ°á‰£áˆ°á‰¥á‰ á‰µáŠ• áˆµááˆ« áˆˆáŠ áŒˆáˆáŒáˆŽá‰µ á‹¨á‰°áˆ˜á‰¸ á‰ áˆ›á‹µáˆ¨áŒ áŠ¥áŠ“ á‰ áˆ›áŒ½á‹³á‰µ áˆ›áŒˆáˆáŒˆáˆ áˆ²áˆ†áŠ• á‰ á‹šáˆ… á‹áˆµáŒ¥ áŠ¥áˆ­áˆµ á‰ áŠ¥áˆ­áˆ³á‰½áŠ• á‹¨áŠ­áˆ­áˆµá‰¶áˆµáŠ• áá‰…áˆ­á‹¨áˆáŠ•áŠ¨á‹áˆáˆá‰ á‰µáŠ“ á‰µáˆ…á‰µáŠ“áŠ• á‹¨áˆáŠ•áˆ›áˆ­á‰ á‰µ áˆµááˆ« áŠá‹á¢ áŠ¥áŠ•á‹°á‹šáˆ… áŒŒá‰³áŠ•áŠ“ á‰…á‹±áˆ³áŠ•áŠ• áˆˆáˆ›áŒˆáˆáŒˆáˆ áŠ¥áŠ“ áˆˆáˆ˜á‰³áŠáŒ½ á‹¨áˆá‰µáˆáˆáŒ‰ á‹¨áŠ“á‰³áŠ’áˆáŠ• á‰¡á‹µáŠ• áŠ¥áŠ•á‹µá‰µá‰€áˆ‹á‰€áˆ‰ á‰°áŒ‹á‰¥á‹›á‰½áŠ‹áˆá¢' },
  { name: 'á‹¨áˆ˜áˆ›áŠ­áˆ­á‰µ á‰¡á‹µáŠ•/counseling', description: 'á‹¨counseling team áˆ˜áŒ½áˆá á‰…á‹±áˆµáŠ• áˆ˜áˆ áˆ¨á‰µ á‰£á‹°áˆ¨áŒˆ áˆ˜áˆáŠ© á‰ áˆ˜áŠ•áˆáˆµ á‰…á‹±áˆµ áŠƒá‹­áˆ áŠ¥áŠ“ áˆáˆªá‰µ áˆ‹á‹­ á‰ áˆ˜á‹°áŒˆá á‰ á‰°áˆˆá‹«á‹© á‹¨áˆ…á‹­á‹ˆá‰µ áˆá‰°áŠ“ á‹áˆµáŒ¥ á‹«áˆ‰ á‰…á‹±áˆ³áŠ• á‰°áˆ›áˆªá‹Žá‰½áŠ• á‰ áˆ˜áˆáŠ¨áˆ­ á‹ˆá‹° áŒá‰£á‰¸á‹ áŠ¥áŠ•á‹²á‹°áˆ­áˆ± á‹¨áˆ˜áˆ­á‹³á‰µ áŠ áŒˆáˆáŒáˆŽá‰µ áˆ‹á‹­ á‹¨á‰°áˆ°áˆ›áˆ« team áŠá‹á¢ á‹¨áˆáˆ‰áˆ áŠ­áˆ­áˆµá‰²á‹«áŠ• áŒá‰¥ áŠ¥áŒá‹šáŠ á‰¥áˆ”áˆ­áŠ• á‹ˆá‹° áˆ˜áˆáˆ°áˆ áˆ›á‹°áŒ áŠá‹áŠ“ á‹¨counseling team á‰ áŒ…áˆ› á‹©áŠ•á‰¨áˆ­áˆµá‰² á‹«áˆ‰ á‰…á‹±áˆ³áŠ• á‰ á‰°áˆ°áŒ£á‰¸á‹ áŒ¸áŒ‹ áŠƒáŒ¢áŠ á‰°áŠáŠá‰µáŠ•áŠ“ á‹“áˆˆáˆ›á‹ŠáŠ• áˆáŠžá‰³á‰¸á‹áŠ• áŠ­á‹°á‹ á¥ á‹¨á‰°á‰£áˆ¨áŠ¨á‹áŠ• á‰°áˆµá‹á‰¸á‹áŠ• áŠ¥áˆ­áˆ±áˆ á‹¨áŠ¢á‹¨áˆ±áˆµ áŠ­áˆ­áˆµá‰¶áˆµáŠ• áŠ­á‰¥áˆ­ áˆ˜áŒˆáˆˆáŒ¥ áŠ¥á‹¨áŒ á‰ á‰á¥ áˆ«áˆ³á‰¸á‹áŠ• á‰ áˆ˜áŒá‹›á‰µáŠ“ á‰ áŒ½á‹µá‰… áŠ¥áŒá‹šáŠ á‰¥áˆ”áˆ­áŠ•áˆ á‰ áˆ˜áˆáˆ°áˆ á‰ áŠ áˆáŠ‘ á‹˜áˆ˜áŠ• áŠ¥áŠ•á‹²áŠ–áˆ© á‹­áˆ˜áŠ­áˆ«áˆá¤á‹¨á‰°áˆˆá‹«á‹© á…áˆ‘áŽá‰½áŠ•áŠ“ áˆ˜áŒ½áˆ”á‰¶á‰½ á‰ áˆ›á‹˜áŒ‹áŒ€á‰µ á‹«áˆµá‰°áˆáˆ«áˆá¢ á‰ áˆ˜áˆ†áŠ‘áˆ á‰ á‰½áŒáˆ­ á‹áˆµáŒ¥ á‹«áˆ‰ á‰…á‹±áˆ³áŠ•áŠ• á‰ áˆ˜áˆáŠ¨áˆ­ áŒŒá‰³á‰½áˆáŠ• áˆˆáˆ›áŒˆáˆáŒˆáˆ áˆ¸áŠ­áˆ á‹«áˆ‹á‰½áˆ á‰…á‹±áˆ³áŠ• á‰ á‹šáˆ… áˆ˜áŠ•áŒˆá‹µ áˆˆáˆ›áŒˆáˆáŒˆáˆ áŠ¥áŠ“ á‹°áŒáˆžáˆ á‰ á‹šá‹« áˆˆáˆ›á‹°áŒ á‹¨CounselingáŠ• team á‰°á‰€áˆ‹á‰€áˆ‰ áŠ¥áŠ•áˆ‹á‰½áŠ‹áˆˆáŠ•á¢ á‹¨áŒŒá‰³ áŒ¸áŒ‹áŠ“ áˆ°áˆ‹áˆ áŠ¨áŠ¥áŠ“áŠ•á‰° áŒ‹áˆ­ á‹­áˆáŠ•!!' },
  { name: 'á‹¨á‹ˆáŠ•áŒŒáˆ áˆµáˆ­áŒ­á‰µ áŠ áˆµá‰°á‰£á‰£áˆªá‹Žá‰½/action', description: 'The youth group engages young people in various activities and spiritual growth.' },
  { name: 'áŠ á‹²áˆµ á‰µá‹áˆá‹µ/new generation', description: 'The youth group engages young people in various activities and spiritual growth.' },
  { name: 'áŠ áˆáˆáŠ®/worship', description: 'áŠ¥áŒá‹šáŠ á‰¥áˆ”áˆ­áŠ• áŠ¨áˆáŠ“áˆ˜áˆáŠ­á‰£á‰¸á‹ áˆ˜áŠ•áŒˆá‹¶á‰½ áŠ áŠ•á‹± á‰ áˆ†áŠá‹ ( á‰ áˆ˜á‹áˆ™áˆ­áŠ“ á‰ á‹áˆ›áˆ¬ á‰ áˆ˜áŠ•áˆáˆ³á‹Šáˆ á‰…áŠ” áŠ¥áˆ­áˆµ á‰ áˆ­áˆ³á‰½áˆ á‰°áŠáŒ‹áŒˆáˆ©á¤ áˆˆáŒŒá‰³ á‰ áˆá‰£á‰½áˆ á‰°á‰€áŠ™áŠ“ á‹˜áˆáˆ©á¤ â€”áŠ¤áŒáˆ¶áŠ• 5: 19 ) áŠ¥áŠ•á‹°áˆšáˆ á‰ áŠ áŠ•á‹°á‰ á‰³á‰½áŠ• ááˆ¬ á‰ áˆáŒ á‰ áŠ¢á‹¨áˆ±áˆµ á‰ áŠ©áˆ áˆµáˆˆáŒˆáˆˆáŒ áˆáŠ• áˆ›áŠ•áŠá‰±áŠ“ áˆµáˆˆáˆ°áˆ«áˆáŠ• áˆµáˆ« áŠ¥áŠ•á‹²áˆáˆ áˆ˜áŒ½áˆá á‰…á‹±áˆ³á‹Š áˆ˜áˆ áˆ¨á‰µ á‹«áˆ‹á‰¸á‹áŠ• áˆ˜áˆá‹•áŠ­á‰¶á‰½ á‹¨áˆáŠ•á‹˜áˆáˆ­á‰ á‰µáŠ“ á‹¨áˆ…á‰¥áˆ¨á‰±áŠ• áŠ á‹³á‹²áˆµ áˆ˜á‹áˆ™áˆ®á‰½ á‰ áŠ áŠ•á‹µáŠá‰µ á‹¨áˆáŠ•áˆ°áˆ«á‰ á‰µ áˆµááˆ«á‰½áŠ• áŠá‹á¢ á‰ á‹šáˆ… áˆ…á‰¥áˆ¨á‰µ áˆ›áŒˆáˆáŒˆáˆ á‹¨áˆá‰µáˆáˆáŒ‰á£ á‰ á‰°áˆˆá‹«á‹© á‹¨á‹áˆ›áˆ¬ áˆ…á‰¥áˆ¨á‰¶á‰½ áˆµá‰³áŒˆáˆˆáŒáˆ‰ á‹¨áŠá‰ áˆ«á‰½áˆá£ á‹œáˆ›áŠ“ áŒáŒ¥áˆ á‹¨áˆá‰µáˆ°áˆ©á£ áˆ™á‹šá‰ƒ áˆá‰µáŒ«á‹ˆá‰±áŠ“ sound system adjust áˆá‰³á‹°áˆ­áŒ‰ áˆáˆ‹á‰½áˆ á‹ˆá‹°á‹šáˆ… áˆ…á‰¥áˆ¨á‰µ á‰ áˆ˜á‰€áˆ‹á‰€áˆ áŠ¥áŒá‹šáŠ á‰¥áˆ”áˆ­ á‹¨áˆ°áŒ£á‰½áˆáŠ• áˆµáŒ¦á‰³ áŠ¥áŠ•á‹µá‰³áˆ³á‹µáŒ‰ á‹°áŒáˆž áŠ¥áŠ•á‹µá‰³áŒˆáˆˆáŒáˆ‰á‰ á‰µ áŠ¥áŠ•áŒ áˆ«á‰½áŠ‹áˆˆáŠ•á¢' },
  { name: 'áˆµáŠ áŒ½áˆ‘á/Ahava', description: 'Ahava á‹¨á‹µáˆ«áˆ›áŠ“ á‹¨áˆµáŠ-áŒ½áˆá á‰¡á‹µáŠ•á‹¨á‰°áˆ˜áˆ°áˆ¨á‰°á‰ á‰µ á‹‹áŠ“ á‹“áˆ‹áˆ› áŠ¥áŠ•á‹° áˆµáˆ›á‰½áŠ• á‰µáˆ­áŒ‰áˆ á‰ áŠ áˆ­á‰µ á‹“áˆ‹áˆ›á‰½áŠ• á‹¨áˆ†áŠá‹áŠ• áŠ¥áŒá‹šáŠ á‰¥áˆ”áˆ­áŠ• áŠ¨á áŠ á‹µáˆ­áŒŽ áˆ›áˆ³á‹¨á‰µ á‹¨áŠ¥áˆ±áˆ áˆ˜áˆá‹•áŠ­á‰µ á‹¨áˆ†áŠá‹áŠ• á‹ˆáŠ•áŒŒáˆ‰áŠ• áˆ˜áŠ“áŒˆáˆ­ áŠá‹ áˆµáˆˆá‹šáˆ… áŠ¨á‹šáˆ… á‰ áŠá‰µ á‰ á‰µá‹ˆáŠ“á¤ áŒáŒ¥áˆá£ áˆ˜áŒ£áŒ¥áá£ á‹ˆáŒá£ á‰µá‹«á‰µáˆ­ áŠ¥áŠ“ áŠ áŒ«áŒ­áˆ­ á‹µáˆ«áˆ›á‹Žá‰½á£ áˆ›áŠ•áŠ›á‹áˆ áŠ á‹­áŠá‰µ á…áˆá á‰ áˆ˜áƒá áˆµá‰³áŒˆáˆˆáŒáˆ‰ á‹¨áŠá‰ áˆ«á‰½áˆ á‹ˆá‹­áˆ áŠ áˆáŠ• á‰ á‹šáˆ… áˆ›áŒˆáˆáŒˆáˆ á‹¨áˆá‰µáˆáˆáŒ‰ join us áŠ¥áŠ“ team á‹áˆµáŒ¥ á‰£áˆ‰ á‹°áˆ«áˆ²á‹«áŠ• áŠ¥áŠ“ art áŠ áˆµá‰°áˆ›áˆªá‹Žá‰½ áŠ­áˆ…áˆŽá‰¶áŠ• á‹«á‹³á‰¥áˆ© ::' },
  { name: 'áˆµáˆˆ á‰¦á‰± áˆ°áˆªá‹Žá‰½/bot developers', description: 'á‹­áˆ… á‰¦á‰µ á‹¨á‰°áˆ°áˆ«á‹ á‰  2012 á‰£á‰½ á‹¨ software engineering small group á‰°áˆ›áˆªá‹Žá‰½ áŠá‹á¢ God bless youðŸ™'},
  // Add more departments as needed
];

// Start command handler
const stateStack = [];

bot.start(async (ctx) => {
  const caption = `
    á‹­áˆ… á‹¨ áŒ…áˆ› á‹©áŠ’á‰¨áˆ­áˆ²á‰²  áŠ¢áŠ•áŒ‚áŠáˆªáŠ•áŒ áŒá‰¢ á‹ˆáŠ•áŒŒáˆ‹á‹á‹«áŠ• áŠ­áˆ­áˆµá‰µá‹«áŠ• á‰°áˆ›áˆªá‹Žá‰½ áˆ…á‰¥áˆ¨á‰µ áŠá‹á¢ \n\ná‹­áˆ… bot áŒáˆŽáˆºá‘ áˆµáˆˆáˆšáˆ°áŒ á‹ áŠ áŒˆáˆáŒáˆŽá‰µ áŠ¥áŠ“ á‰  áŒáˆŽáˆºá‘ á‹áˆµáŒ¥ áˆµáˆˆáˆšáŒˆáŠ™ á‰²áˆžá‰½ áˆ˜áˆ¨áŒƒ á‹¨áˆšáˆ°áŒ¥ áŠá‹á¢\n\n áŠ¨á‰³á‰½ á‹«áˆ‰á‰µáŠ• á‹¨áŠ áŒáˆáŒáˆŽá‰µ á‹˜áˆ­áá‰½ á‰ áˆ˜áŒ«áŠ• áˆ˜áˆ¨áŒƒ áˆ›áŒáŠ˜á‰µ á‹­á‰½áˆ‹áˆ‰á¢
  `;
  const replyPromise = ctx.reply('áŒ…áˆ› á‹©áŠ’á‰¨áˆ­áˆ²á‰²  áŠ¢áŠ•áŒ‚áŠáˆªáŠ•áŒ áŒá‰¢ á‹ˆáŠ•áŒŒáˆ‹á‹á‹«áŠ• áŠ­áˆ­áˆµá‰µá‹«áŠ• á‰°áˆ›áˆªá‹Žá‰½ áˆ…á‰¥áˆ¨á‰µ', Markup.keyboard(departments.map(dep => [dep.name])).resize());
  const photoPromise = ctx.replyWithPhoto({
    source: 'developers.jpg'
  }, {
    caption,
    parse_mode: 'Markdown' // Set the parse_mode to 'Markdown' to enable Markdown formatting
  });

  await Promise.all([photoPromise, replyPromise]);
  stateStack.push('mainMenu')
});


// Department selection handler
bot.hears(departments.map(dep => dep.name), (ctx) => {
  const selectedDepartment = departments.find(dep => dep.name === ctx.message.text);

  if (selectedDepartment) {
    stateStack.push(departments);
    ctx.replyWithMarkdown(` ${selectedDepartment.name}:\n\n${selectedDepartment.description}\n\n`, Markup.inlineKeyboard([
      // Markup.button.callback('áˆ˜áˆáˆµ', 'backToTeams'),
      Markup.button.callback('á‹ˆá‹° á‹‹áŠ“á‹ áŒˆá…', 'mainMenu'),
    ]));
  } else {
    ctx.reply('Invalid department selection. Please choose a department from the provided options.');
  }
});

// Handle inline keyboard button callbacks
bot.action('backToMainMenu', (ctx) => {
  // Pop the current state from the stack
  stateStack.pop();

  // Perform action based on the previous state
  const previousState = stateStack.pop();
  if (previousState === 'mainMenu') {
    // If previous state was the main menu, return to main menu
    ctx.reply('You clicked the "Back" button. Returning to Main Menu.');
    // Push the main menu state back to the stack
    stateStack.push('mainMenu');
  } else {
    // Handle other cases or states here...
    ctx.reply('You clicked the "Back" button. Returning to previous state.');
  }
});

bot.action('mainMenu', (ctx) => {
  // Clear the state stack and return to main menu
  stateStack.length = 0;
  stateStack.push('mainMenu');

  // Implement your logic to return to the department selection part
  const caption = `
    á‹­áˆ… á‹¨ áŒ…áˆ› á‹©áŠ’á‰¨áˆ­áˆ²á‰²  áŠ¢áŠ•áŒ‚áŠáˆªáŠ•áŒ áŒá‰¢ á‹ˆáŠ•áŒŒáˆ‹á‹á‹«áŠ• áŠ­áˆ­áˆµá‰µá‹«áŠ• á‰°áˆ›áˆªá‹Žá‰½ áˆ…á‰¥áˆ¨á‰µ áŠá‹á¢ \n\ná‹­áˆ… bot áŒáˆŽáˆºá‘ áˆµáˆˆáˆšáˆ°áŒ á‹ áŠ áŒˆáˆáŒáˆŽá‰µ áŠ¥áŠ“ á‰  áŒáˆŽáˆºá‘ á‹áˆµáŒ¥ áˆµáˆˆáˆšáŒˆáŠ™ á‰²áˆžá‰½ áˆ˜áˆ¨áŒƒ á‹¨áˆšáˆ°áŒ¥ áŠá‹á¢\n\n áŠ¨á‰³á‰½ á‹«áˆ‰á‰µáŠ• á‹¨áŠ áŒáˆáŒáˆŽá‰µ á‹˜áˆ­áá‰½ á‰ áˆ˜áŒ«áŠ• áˆ˜áˆ¨áŒƒ áˆ›áŒáŠ˜á‰µ á‹­á‰½áˆ‹áˆ‰á¢
  `;
  const replyPromise = ctx.reply('áŒ…áˆ› á‹©áŠ’á‰¨áˆ­áˆ²á‰²  áŠ¢áŠ•áŒ‚áŠáˆªáŠ•áŒ áŒá‰¢ á‹ˆáŠ•áŒŒáˆ‹á‹á‹«áŠ• áŠ­áˆ­áˆµá‰µá‹«áŠ• á‰°áˆ›áˆªá‹Žá‰½ áˆ…á‰¥áˆ¨á‰µ', Markup.keyboard(departments.map(dep => [dep.name])).resize());
  const photoPromise = ctx.replyWithPhoto({
    source: 'developers.jpg'
  }, {
    caption,
    parse_mode: 'Markdown' // Set the parse_mode to 'Markdown' to enable Markdown formatting
  });

  Promise.all([photoPromise, replyPromise]);
});

// Start the bot

bot.launch().then(() => {
  console.log('Bot started successfully!');
}).catch((err) => {
  console.error('Error starting bot:', err);
});